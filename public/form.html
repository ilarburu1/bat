<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script>

        let checkEmail = () => {
            
            let bidaltzekoOK = true;

            let emaila = document.getElementById("email");
            let korreoa = emaila.value;
            emaila.setCustomValidity("");

            let emailaRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (emailaRegex.test(korreoa)) {
            }else{
                emaila.setCustomValidity("Hori ez da emila.");
                bidaltzekoOK = false;
            }

            return bidaltzekoOK;
        }

        let checkPass = () => {
            
            let bidaltzekoOK2 = true;

            let pass = document.getElementById("password").value;

            let pass1 = document.getElementById("confirmPassword");
            let kontra2 = pass1.value;
            pass1.setCustomValidity("");

            if (pass!=kontra2) {
                pass1.setCustomValidity("Pasahitzek berdinak izan behar dute.");
                bidaltzekoOK2 = false;
            }

            return bidaltzekoOK2;
        }

        let checkCity = () => {
            
            let bidaltzekoOK3 = true;

            let city = document.getElementById("city")
            let herria=city.value;
            city.setCustomValidity("");

            if (herria.length<3) {
                city.setCustomValidity("Herriaren izenak gutxienez hiru karaktere izan behar ditu.");
                bidaltzekoOK3 = false;
            }

            return bidaltzekoOK3;
        }

        let checkCode = () => {
            
            let bidaltzekoOK4 = true;

            let code = document.getElementById("zipCode")
            let kodea=code.value;
            code.setCustomValidity("");

            if (isNaN(kodea)) {
                code.setCustomValidity("Zip kodeak zenbaki bat izan behar du.");
                bidaltzekoOK4 = false;
            }

            return bidaltzekoOK4;
        }

        window.onload = () => {
            document.getElementById("email").oninput=checkEmail;
            document.getElementById("confirmPassword").oninput=checkPass;
            document.getElementById("city").oninput=checkCity;
            document.getElementById("zipCode").oninput=checkCode;
            document.querySelector("#formularioa").addEventListener("submit", (e) => {
                e.preventDefault();
                if (checkEmail()&&checkPass()&&checkCity()&&checkCode()) e.target.submit();
            });

        };
    </script>
</head>
<body>
    <form action="/bezeroa" method="POST" id="formularioa">
        Name: <input type="text" name="name" id="name" required> <br>
        Email: <input type="text" name="email" id="email" required> <br>
        Password: <input type="password" name="password" id="password" required> <br>
        Confirm password: <input type="password" name="confirmPassword" id="confirmPassword" required> <br>
        Gender: 
        <select name="gender" id="gender">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
        </select><br>
        Date of birth: <input type="date" name="date" id="date" required> <br>
        Address: <textArea name="address" rows="3" cols="50" id="address"> </textArea><br>
        City: <input type="text" name="city" id="city" required> <br>
        Zip code: <input type="text" name="zipCode" id="zipCode" required> <br>
        I agree to the terms and conditions: <input type="checkbox" name="conditions" required> <br>
        I want to recive the newsletter: <input type="radio" name="aukera" value="Yes" required> Yes
        <input type="radio" name="aukera" value="No" required> No <br>
        <input type="submit" value="Submit">
    </form>
    
</body>
</html>